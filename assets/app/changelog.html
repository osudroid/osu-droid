<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>1.8.4 Changelog</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.8.1/github-markdown-dark.min.css"/>
  <style>
    .markdown-body {
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      margin: 0 auto;
      padding: 45px;
    }

    @media (max-width: 767px) {
      .markdown-body {
        padding: 15px;
      }
    }
  </style>
</head>
<body style="background: #0d1117">
<article id="content" class="markdown-body">
Version 1.8.4.5
===============

# Additions

- Add a way to view changelog even after update is pushed <span style="font-size: 0.75em">by [Acivev](https://github.com/acivev)</span>
  - Changelog can be accessed by pressing the version number in the bottom left corner of the main menu.

# Bug Fixes

- Fix gameplay potentially not progressing at all <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix update dialog never showing up after a game update <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>

Version 1.8.4.4
===============

# Changes

- Prevent gameplay from progressing if audio is far behind gameplay <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - In some cases, audio can be behind gameplay so far it would cause gameplay to completely desynchronize.

# Bug Fixes

- Fix an issue where replays made before version 1.8.4 displays an unranked sprite at the start of gameplay despite only
  using ranked mods <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix pp being displayed as dpp in ranking screen <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix gameplay potentially entering ranking screen when failing at the very last second <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix audio continuing to play when putting the game in background from the main menu <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix an issue where putting the game in background would prevent the device from going to sleep <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix an issue where skipping in gameplay may play earlier than expected <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix slider paths not being recomputed when replaying the same beatmap with different mods <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>

Version 1.8.4.3
===============

# Bug Fixes

- Fix an issue where mods may not be migrated properly in version 1.8.4 <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix an issue where database migration would repeat when failing <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>

Version 1.8.4.2
===============

# Additions

- Add playfield border setting <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - When playfield size is under 100%, this will show a border around the gameplay space (worded "playfield" since it is
    easier for players to understand).
  - The reason behind this is the massive amount of questions pertaining gameplay space being clipped (essentially,
    anything that is outside that space will not be rendered) starting from version 1.8.4. This should provide the
    expected area where hit objects will be rendered.

# Changes

- Adjust music pitch in song selection menu when shift pitch in rate change setting is enabled <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Move playfield size and shrink downwards settings to a `Playfield` category under `Gameplay` section <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Use slider tick and end misses from score information for a more accurate pp calculation when available <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Put rank and `section-pass/fail` elements during break in HUD instead of gameplay area
  - These should not be affected by the playfield size setting.

# Bug Fixes

- Fix wrong score multiplier calculation when multiple constant rate-changing mods (Custom Speed, Half Time, Double Time
  , and Night Core) are stacked together <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Scores that are affected by this bug will have their score multiplier recalculated. Depending on how many scores you
    have, this may take a while.
- Fix Replay V6 mod not being applied to pre-version 1.8.4 scores during version 1.8.4 update <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - This fix will be applied along with the score multiplier recalculation.
- Fix score multiplier in mod selection menu not being updated when the beatmap is changed <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix community-contributed localizations from version 1.8.4 not being used <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix some mods from singleplayer being preserved in multiplayer and vice versa if free mod is allowed in the room <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix wrong unstable rate calculation <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Someone did not know how to calculate an average...
- Fix beatmap offset not being carried from pre-configured offset (in song selection menu) in game loading scene <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>

Version 1.8.4.1
===============

# Changes

- Backup database before migration <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - This allows reverting to the previous version in case of a migration bug or failure.

# Bug Fixes

- Fix migrated scores not having Replay V6 mod applied <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix non-user selectable mods displaying in leaderboard and multiplayer player list <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix forced difficulty statistics failing to migrate <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix mod display potentially being empty when non-user playable mods are present <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - An example of this is when Replay V6 mod is the only mod applied to a score.
- Fix mod presets not visible in singleplayer <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix gameplay progressing at a faster/slower rate before the music starts when Wind Up/Down mod is used <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix a crash when a combo color in skin.json is not a valid hex color <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix a crash when a color in the `Color` section of skin.json is not a valid hex color <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix a crash due to repeated attempt of creating mod preset storage <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix a potential crash when pressing a main menu button while it is animating <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix slider head circle post-judgement visibility not meeting expectations <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Upon judgement, the slider head circle should change its texture to the end circle. This was not the case.
- Fix failing migration due to comma-separated decimals in legacy mod format <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix a crash when opening a score with an unmigrated mod format <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - This should not happen, but there was a recorded crash with this error, so there the fix goes...
- Fix cryptic mod display string in multiplayer room and room listing <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix player list bugging out when joining a room for the second time <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix player list bugging out when finishing a beatmap for the second time in multiplayer <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix a crash when enabling real-time pp counter due to invalid bounds <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Attempt to fix a crash when quitting game due to invalidated beatmap reference <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>

Version 1.8.4
=============

# Additions

- Add mod preset <span style="font-size: 0.75em">by [Reco1I](https://github.com/Reco1I)</span>
  - Can be used to save and quickly switch between different mod configurations.
- Add ability to customize redesigned user interfaces' theme via `skin.json` <span style="font-size: 0.75em">by [Reco1I](https://github.com/Reco1I)</span>
  - For now, only accent color is supported. More customization options will be added in the future.
  - To change the accent color, add the following to `skin.json`:
    ```json
    {
      "Theme": {
        "accentColor": "#c2caff"
      }
    }
    ```
- Add Wind Down mod <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Slows the game down as gameplay progresses.
  - Initial and final speed can be configured in the mod menu.
  - Mod icon is skinnable with `selection-mod-winddown`.
- Add Wind Up mod <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Speeds the game up as gameplay progresses.
  - Initial and final speed can be configured in the mod menu.
  - Mod icon is skinnable with `selection-mod-windup`.
- Add Mirror mod <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Flips hit objects vertically or horizontally.
  - Can be configured in the mod menu.
  - Mod icon is skinnable with `selection-mod-mirror`.
- Add Synesthesia mod <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Colors hit objects based on their rhythm.
  - Mod icon is skinnable with `selection-mod-synesthesia`.
- Add Random mod <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Randomizes the position of hit objects.
  - A custom seed can be provided in the mod menu to ensure the same randomization in the same beatmap.
  - Angle sharpness of jumps can be configured in the mod menu.
  - Mod icon is skinnable with `selection-mod-random`.
- Add Muted mod <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Gradually adjusts the volume of the music (and optionally hitsounds) as gameplay progresses.
  - Can be configured to start from full volume or silence, or to add a metronome beat for assistance.
  - Mod icon is skinnable with `selection-mod-muted`.
- Add Freeze Frame mod <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Advances the approach rate of hit objects that are in the same combo.
  - Mod icon is skinnable with `selection-mod-freezeframe`.
- Add Approach Different mod <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Changes the way approach circles shrinks towards hit objects.
  - Available changes are initial scale and rate of shrink.
  - Mod icon is skinnable with `selection-mod-approachdifferent`.
- Add "only fade approach circles" setting to Hidden mod <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - This setting only fades the approach circles of hit objects and nothing else.
  - Enabling this setting will set the mod's score multiplier to 1x and mark scores as unranked.
- Add support for importing and exporting game settings <span style="font-size: 0.75em">by [kairusds](https://github.com/kairusds)</span>
  - Useful if you want to move game installation across devices or share settings with others.
  - Excludes sensitive information such as account credentials.
- Add support for importing multiple replay files at once <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - This expands the existing replay import functionality to allow importing multiple replays at once.
  - Current caveats:
    - Like the previous replay import functionality, the operation cannot be canceled once started.
    - Replays that fail to import will only be shown briefly and not anywhere else.

# Changes

- Rework mod storage system <span style="font-size: 0.75em">by [Reco1I](https://github.com/Reco1I) and [Rian8337](https://github.com/Rian8337)</span>
  - Allows for more mods and more expansive mod capabilities, some of them have been demonstrated via the new mods that
    have been added alongside this release!
- Redesign mod menu user interface <span style="font-size: 0.75em">by [Reco1I](https://github.com/Reco1I) and [Rian8337](https://github.com/Rian8337)</span>
  - With the addition of many more mods, the current mod menu became too cluttered and could not handle them. As such,
    it has been redesigned to also account for the overall theme of other interfaces.
- Replace speed modify with Custom Speed mod <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - As a part of the mod storage system rework, speed modify is now considered an actual mod.
  - Mod icon is skinnable with `selection-mod-customspeed`.
- Replace forced difficulty statistics with Difficulty Adjust mod <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - As a part of the mod storage system rework, forced difficulty statistics are now considered an actual mod.
  - Mod icon is skinnable with `selection-mod-difficultyadjust`.
- Redesign gameplay loading screen <span style="font-size: 0.75em">by [Reco1I](https://github.com/Reco1I)</span>
  - Now displays epilepsy warning.
  - Now includes settings that were removed from the current mod menu, plus additional ones such as beatmap-specific
    offset.
- Unify hit object scaling equation <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Previously, the scaling of hit objects was inconsistent as it was influenced by the height of the device. This means
    that under osu!pixels measurement, a hit object may have had a bigger size in some devices compared to others.
  - Now, the scaling of hit objects is consistent across all devices with respect to osu!pixels measurement.
  - **This means that circle sizes change in all devices. However, the change has been made to match the new circle sizes
    to the current ones as close as possible**.
  - To ensure proper playback and difficulty calculation of replays to this date, a new system mod called "Replay V6"
    has been added to restore the old scaling equation. This mod cannot be picked by players and is only available for
    replays.
- Partially match stacking behavior with osu!stable <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - The previous stacking behavior was wrong for a multitude of reasons, namely:
    - It does not stack sliders
    - It is based on the delta time of two objects instead of approach rate, the factor that actually affects
      readability
    - Stacking can still apply even when two objects are not in the same position
  - More importantly, or perhaps the primary driving factor of this change, is because stack offset calculation depends
    on the device's screen resolution.
  - These have now been fixed.
  - Like the previous change, the new Replay V6 mod restores the old stacking behavior.
- Bump osu!droid skill multipliers <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Increases star rating and performance points of all beatmaps to account for hit object stacking and scale changes.
- Exclude some accessibility services from accessibility detection <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Some system services could not be disabled, but they would prevent the player from playing.
  - Current excluded services are:
    - `com.android.systemui`
    - `com.miui.voiceassist`
- Ensure that HUD editor only uses Autoplay mod <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Reduce maximum cursor count in gameplay from 10 to 3 <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Only allow slider tracking state to be retained by the cursor that activated the tracking state <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - This prevents a slider's tracking state from being dependent on all cursor, which is not expected.
- Update Translations.

# Bug Fixes

- Fix a potential crash when stopping hitsounds during pausing <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix gameplay space not being clipped <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Now, hit object parts that are outside the gameplay space would not be rendered.
- Fix circle size conversion in Easy, Really Easy, and Hard Rock mod using wrong scale unit in difficulty calculation <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Affects the performance points of scores with these mods applied.
- Fix gameplay time potentially being behind audio time until gameplay is restarted or finished <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix gameplay loading screen being scaled incorrectly when playfield size settings are used <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix Autoplay mod being persisted after quitting from HUD editor <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix modern spinners not finishing when a spinner's duration is not positive <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix a crash due to real-time pp evaluating to not-a-number <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - Not a foolproof solution as the source of the not-a-number value is still unknown, but is enough to prevent crashes from happening.
- Fix Hidden and Traceable mods not ignoring spinners when "Show first approach circle" setting is enabled <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix rank in break time only showing when letterbox effect is enabled <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix reverse arrow in a slider's head only showing after the slider's first span finishes <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
- Fix slider head disappearing before it is judged <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>

# Removals

- Remove force AR scaling against speed modify <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - This brings force AR's behavior in line with forced difficulty statistics.
  - Scores set before this version will retain the scaling.
- Remove "allow force difficulty statistics" setting in multiplayer <span style="font-size: 0.75em">by [Rian8337](https://github.com/Rian8337)</span>
  - With the mod rework, the setting is now a part of free mods setting.
</article>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
  const content = document.getElementById('content');
  content.innerHTML = marked.parse(content.innerHTML);
</script>
</body>
</html>
